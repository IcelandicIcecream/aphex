import"../chunks/DsnmJJEf.js";import{p as Y,i as M,a as u,w as fe,x as $e,b as r,c as J,bw as Se,g as t,v as N,f as h,d as g,r as c,s as p,n as K,m as de,h as ue,q as lt,t as pe,e as I,a4 as it,l as dt,$ as ct}from"../chunks/DWBROaph.js";import{s as ve,o as ut}from"../chunks/zhm3sqsy.js";import{p as z,i as H,r as ne,s as ee,l as Ne,b as qe}from"../chunks/CrQaW3DA.js";import{p as Ie}from"../chunks/DL8tdTp6.js";import{i as Ke,g as ze}from"../chunks/CrOXdnIQ.js";import{C as Re,a as He,d as Ve,I as Te,B as he,e as Ye,c as ge,f as Je}from"../chunks/CQxSK_kJ.js";import{c as A}from"../chunks/D4agE4Ng.js";import{b as ce,c as De,m as we,C as We,L as je}from"../chunks/CC2su3ap.js";import{I as Ze,s as Ge,e as vt,T as Be,i as ft}from"../chunks/CgH_2WnA.js";import{n as _e,D as gt,a as mt,A as _t,b as pt,P as ht,F as $t,c as xt,E as bt,d as yt,T as wt,S as Le,s as Pt,e as zt,f as Ct,g as At,h as Ot}from"../chunks/CI7EuJFJ.js";import{a as Pe}from"../chunks/CMwlA4jW.js";import"../chunks/D8BKmG1w.js";import{P as St}from"../chunks/C4tAP6mY.js";function Dt(m,e){Y(e,!0);let o=z(e,"open",15,!1),l=z(e,"onOpenChange",3,_e),a=z(e,"onOpenChangeComplete",3,_e);gt.create({variant:ce(()=>"alert-dialog"),open:ce(()=>o(),v=>{o(v),l()(v)}),onOpenChangeComplete:ce(()=>a())});var d=M(),s=u(d);fe(s,()=>e.children??$e),r(m,d),J()}var Ft=h("<button><!></button>");function Et(m,e){const o=Se();Y(e,!0);let l=z(e,"id",19,()=>De(o)),a=z(e,"ref",15,null),d=ne(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const s=mt.create({id:ce(()=>l()),ref:ce(()=>a(),S=>a(S))}),v=N(()=>we(d,s.props));var w=M(),C=u(w);{var R=S=>{var f=M(),i=u(f);fe(i,()=>e.child,()=>({props:t(v)})),r(S,f)},T=S=>{var f=Ft();Pe(f,()=>({...t(v)}));var i=g(f);fe(i,()=>e.children??$e),c(f),r(S,f)};H(C,S=>{e.child?S(R):S(T,!1)})}r(m,w),J()}var Mt=h("<button><!></button>");function kt(m,e){const o=Se();Y(e,!0);let l=z(e,"id",19,()=>De(o)),a=z(e,"ref",15,null),d=z(e,"disabled",3,!1),s=ne(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const v=_t.create({id:ce(()=>l()),ref:ce(()=>a(),f=>a(f)),disabled:ce(()=>!!d())}),w=N(()=>we(s,v.props));var C=M(),R=u(C);{var T=f=>{var i=M(),n=u(i);fe(n,()=>e.child,()=>({props:t(w)})),r(f,i)},S=f=>{var i=Mt();Pe(i,()=>({...t(w)}));var n=g(i);fe(n,()=>e.children??$e),c(i),r(f,i)};H(R,f=>{e.child?f(T):f(S,!1)})}r(m,C),J()}var It=h("<!> <!>",1),Tt=h("<!> <div><!></div>",1);function jt(m,e){const o=Se();Y(e,!0);let l=z(e,"id",19,()=>De(o)),a=z(e,"ref",15,null),d=z(e,"forceMount",3,!1),s=z(e,"interactOutsideBehavior",3,"ignore"),v=z(e,"onCloseAutoFocus",3,_e),w=z(e,"onEscapeKeydown",3,_e),C=z(e,"onOpenAutoFocus",3,_e),R=z(e,"onInteractOutside",3,_e),T=z(e,"preventScroll",3,!0),S=z(e,"trapFocus",3,!0),f=z(e,"restoreScrollDelay",3,null),i=ne(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","interactOutsideBehavior","onCloseAutoFocus","onEscapeKeydown","onOpenAutoFocus","onInteractOutside","preventScroll","trapFocus","restoreScrollDelay"]);const n=pt.create({id:ce(()=>l()),ref:ce(()=>a(),W=>a(W))}),j=N(()=>we(i,n.props));{const W=te=>{{const re=(q,ae)=>{let b=()=>ae?.().props;bt(q,ee(()=>t(j),{get enabled(){return n.root.opts.open.current},get ref(){return n.opts.ref},onEscapeKeydown:y=>{w()(y),!y.defaultPrevented&&n.root.handleClose()},children:(y,B)=>{yt(y,ee(()=>t(j),{get ref(){return n.opts.ref},get enabled(){return n.root.opts.open.current},get interactOutsideBehavior(){return s()},onInteractOutside:D=>{R()(D),!D.defaultPrevented&&n.root.handleClose()},children:(D,F)=>{wt(D,ee(()=>t(j),{get ref(){return n.opts.ref},get enabled(){return n.root.opts.open.current},children:($,k)=>{var Z=M(),V=u(Z);{var U=O=>{var E=It(),L=u(E);{var P=x=>{Le(x,{get preventScroll(){return T()},get restoreScrollDelay(){return f()}})};H(L,x=>{n.root.opts.open.current&&x(P)})}var _=p(L,2);{let x=N(()=>({props:we(t(j),b()),...n.snippetProps}));fe(_,()=>e.child,()=>t(x))}r(O,E)},G=O=>{var E=Tt(),L=u(E);Le(L,{get preventScroll(){return T()}});var P=p(L,2);Pe(P,x=>({...x}),[()=>we(t(j),b())]);var _=g(P);fe(_,()=>e.children??$e),c(P),r(O,E)};H(V,O=>{e.child?O(U):O(G,!1)})}r($,Z)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let Q=N(()=>Pt({forceMount:d(),present:n.root.opts.open.current,open:n.root.opts.open.current}));$t(te,{get ref(){return n.opts.ref},loop:!0,get trapFocus(){return S()},get enabled(){return t(Q)},get onCloseAutoFocus(){return v()},onOpenAutoFocus:q=>{C()(q),!q.defaultPrevented&&(q.preventDefault(),xt(0,()=>n.opts.ref.current?.focus()))},focusScope:re,$$slots:{focusScope:!0}})}};let se=N(()=>n.root.opts.open.current||d());ht(m,{get forceMount(){return d()},get open(){return t(se)},get ref(){return n.opts.ref},presence:W,$$slots:{presence:!0}})}J()}function Bt(m,e){const o=Ne(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const l=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Ze(m,ee({name:"arrow-left"},()=>o,{get iconNode(){return l},children:(a,d)=>{var s=M(),v=u(s);Ge(v,e,"default",{}),r(a,s)},$$slots:{default:!0}}))}function Lt(m,e){const o=Ne(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const l=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"}],["path",{d:"M10 6h4"}],["path",{d:"M10 10h4"}],["path",{d:"M10 14h4"}],["path",{d:"M10 18h4"}]];Ze(m,ee({name:"building-2"},()=>o,{get iconNode(){return l},children:(a,d)=>{var s=M(),v=u(s);Ge(v,e,"default",{}),r(a,s)},$$slots:{default:!0}}))}var Nt=h("<!> <!>",1),qt=h('Organization Name <span class="text-destructive">*</span>',1),Kt=h('Slug <span class="text-destructive">*</span>',1),Rt=h('<p class="text-muted-foreground text-sm">Preview: <code class="bg-muted rounded px-1.5 py-0.5"> </code></p>'),Ht=h('<div class="bg-destructive/10 text-destructive border-destructive/20 rounded-lg border p-4"><p class="font-medium">Error</p> <p class="text-sm"> </p></div>'),Vt=h('<form class="space-y-6"><div class="space-y-2"><!> <!> <p class="text-muted-foreground text-sm">The display name for your organization</p></div> <div class="space-y-2"><!> <!> <p class="text-muted-foreground text-sm">A unique identifier for your organization (lowercase letters, numbers, and hyphens only)</p> <!></div> <!> <div class="flex flex-col-reverse gap-3 sm:flex-row sm:justify-end"><!> <!></div></form>'),Yt=h("<!> <!>",1);function Jt(m,e){Y(e,!0);let o=ue(""),l=ue(""),a=ue(!1),d=ue(null);function s(f){return f.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function v(f){const i=f.target;I(o,i.value,!0),(!t(l)||t(l)===s(t(o).slice(0,-1)))&&I(l,s(t(o)),!0)}function w(f){const i=f.target;I(l,s(i.value),!0)}async function C(f){if(f.preventDefault(),I(d,null),!t(o).trim()){I(d,"Organization name is required");return}if(!t(l).trim()){I(d,"Organization slug is required");return}if(t(l).length<3){I(d,"Slug must be at least 3 characters long");return}I(a,!0);try{const i=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t(o).trim(),slug:t(l).trim()})}),n=await i.json();if(!i.ok||!n.success)throw new Error(n.message||n.error||"Failed to create organization");const j=n.data.id;await Ke(),await ze(`/admin?orgId=${j}`)}catch(i){I(d,i instanceof Error?i.message:"Failed to create organization",!0)}finally{I(a,!1)}}function R(){ze("/admin/organizations")}var T=M(),S=u(T);A(S,()=>Ye,(f,i)=>{i(f,{children:(n,j)=>{var W=Yt(),se=u(W);A(se,()=>Re,(re,Q)=>{Q(re,{children:(q,ae)=>{var b=Nt(),y=u(b);A(y,()=>He,(D,F)=>{F(D,{children:($,k)=>{K();var Z=de("Organization Details");r($,Z)},$$slots:{default:!0}})});var B=p(y,2);A(B,()=>We,(D,F)=>{F(D,{children:($,k)=>{K();var Z=de("Enter the basic information for your new organization");r($,Z)},$$slots:{default:!0}})}),r(q,b)},$$slots:{default:!0}})});var te=p(se,2);A(te,()=>Ve,(re,Q)=>{Q(re,{children:(q,ae)=>{var b=Vt(),y=g(b),B=g(y);je(B,{for:"name",children:(P,_)=>{K();var x=qt();K(),r(P,x)},$$slots:{default:!0}});var D=p(B,2);Te(D,{id:"name",type:"text",placeholder:"Acme Corporation",get value(){return t(o)},oninput:v,get disabled(){return t(a)},required:!0}),K(2),c(y);var F=p(y,2),$=g(F);je($,{for:"slug",children:(P,_)=>{K();var x=Kt();K(),r(P,x)},$$slots:{default:!0}});var k=p($,2);Te(k,{id:"slug",type:"text",placeholder:"acme-corporation",get value(){return t(l)},oninput:w,get disabled(){return t(a)},required:!0,pattern:"[a-z0-9-]+"});var Z=p(k,4);{var V=P=>{var _=Rt(),x=p(g(_)),le=g(x,!0);c(x),c(_),pe(()=>ve(le,t(l))),r(P,_)};H(Z,P=>{t(l)&&P(V)})}c(F);var U=p(F,2);{var G=P=>{var _=Ht(),x=p(g(_),2),le=g(x,!0);c(x),c(_),pe(()=>ve(le,t(d))),r(P,_)};H(U,P=>{t(d)&&P(G)})}var O=p(U,2),E=g(O);he(E,{type:"button",variant:"outline",onclick:R,get disabled(){return t(a)},class:"w-full sm:w-auto",children:(P,_)=>{K();var x=de("Cancel");r(P,x)},$$slots:{default:!0}});var L=p(E,2);{let P=N(()=>t(a)||!t(o).trim()||!t(l).trim());he(L,{type:"submit",get disabled(){return t(P)},class:"w-full sm:w-auto",children:(_,x)=>{var le=M(),X=u(le);{var xe=ie=>{var me=de("Creating...");r(ie,me)},be=ie=>{var me=de("Create Organization");r(ie,me)};H(X,ie=>{t(a)?ie(xe):ie(be,!1)})}r(_,le)},$$slots:{default:!0}})}c(O),c(b),lt("submit",b,C),r(q,b)},$$slots:{default:!0}})}),r(n,W)},$$slots:{default:!0}})}),r(m,T),J()}function Wt(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class"]);var a=M(),d=u(a);{let s=N(()=>ge("text-lg font-semibold",e.class));A(d,()=>zt,(v,w)=>{w(v,ee({"data-slot":"alert-dialog-title",get class(){return t(s)}},()=>l,{get ref(){return o()},set ref(C){o(C)}}))})}r(m,a),J()}function Zt(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class"]);var a=M(),d=u(a);{let s=N(()=>ge(Je(),e.class));A(d,()=>Et,(v,w)=>{w(v,ee({"data-slot":"alert-dialog-action",get class(){return t(s)}},()=>l,{get ref(){return o()},set ref(C){o(C)}}))})}r(m,a),J()}function Gt(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class"]);var a=M(),d=u(a);{let s=N(()=>ge(Je({variant:"outline"}),e.class));A(d,()=>kt,(v,w)=>{w(v,ee({"data-slot":"alert-dialog-cancel",get class(){return t(s)}},()=>l,{get ref(){return o()},set ref(C){o(C)}}))})}r(m,a),J()}var Qt=h("<div><!></div>");function Ut(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Qt();Pe(a,s=>({"data-slot":"alert-dialog-footer",class:s,...l}),[()=>ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var d=g(a);fe(d,()=>e.children??$e),c(a),qe(a,s=>o(s),()=>o()),r(m,a),J()}var Xt=h("<div><!></div>");function er(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Xt();Pe(a,s=>({"data-slot":"alert-dialog-header",class:s,...l}),[()=>ge("flex flex-col gap-2 text-center sm:text-left",e.class)]);var d=g(a);fe(d,()=>e.children??$e),c(a),qe(a,s=>o(s),()=>o()),r(m,a),J()}function tr(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class"]);var a=M(),d=u(a);{let s=N(()=>ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));A(d,()=>Ct,(v,w)=>{w(v,ee({"data-slot":"alert-dialog-overlay",get class(){return t(s)}},()=>l,{get ref(){return o()},set ref(C){o(C)}}))})}r(m,a),J()}var rr=h("<!> <!>",1);function ar(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class","portalProps"]);var a=M(),d=u(a);A(d,()=>At,(s,v)=>{v(s,ee(()=>e.portalProps,{children:(w,C)=>{var R=rr(),T=u(R);tr(T,{});var S=p(T,2);{let f=N(()=>ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));A(S,()=>jt,(i,n)=>{n(i,ee({"data-slot":"alert-dialog-content",get class(){return t(f)}},()=>l,{get ref(){return o()},set ref(j){o(j)}}))})}r(w,R)},$$slots:{default:!0}}))}),r(m,a),J()}function or(m,e){Y(e,!0);let o=z(e,"ref",15,null),l=ne(e,["$$slots","$$events","$$legacy","ref","class"]);var a=M(),d=u(a);{let s=N(()=>ge("text-muted-foreground text-sm",e.class));A(d,()=>Ot,(v,w)=>{w(v,ee({"data-slot":"alert-dialog-description",get class(){return t(s)}},()=>l,{get ref(){return o()},set ref(C){o(C)}}))})}r(m,a),J()}const nr=Dt;var sr=h("<!> <!>",1),lr=h('<p class="text-muted-foreground py-8 text-center">Loading organizations...</p>'),ir=h('<div class="bg-destructive/10 text-destructive border-destructive/20 rounded-lg border p-4"><p class="font-medium">Error</p> <p class="text-sm"> </p></div>'),dr=h('<p class="text-muted-foreground py-8 text-center">You are not a member of any organizations yet.</p>'),cr=h('<span class="bg-primary/10 text-primary inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold">Active</span>'),ur=h('<li class="flex flex-col gap-3 p-4 sm:flex-row sm:items-center sm:justify-between"><div class="flex grow items-center justify-between"><div class="flex flex-col"><span class="font-medium"> </span> <span class="text-muted-foreground text-sm"> </span></div> <div class="flex items-center gap-2 sm:hidden"><!></div></div> <div class="flex items-center justify-between"><div class="flex items-center gap-2"><span class="text-muted-foreground text-sm capitalize"> </span> <!></div> <div class="hidden items-center gap-2 sm:flex"><!></div></div></li>'),vr=h('<ul class="divide-border divide-y"></ul>'),fr=h("<!> <!>",1),gr=h(`Are you sure you want to delete <strong> </strong>? This action cannot be
				undone. All members will be removed and all pending invitations will be cancelled.`,1),mr=h("<!> <!>",1),_r=h("<!> <!>",1),pr=h("<!> <!>",1),hr=h("<!> <!>",1);function $r(m,e){Y(e,!0);let o=ue(it([])),l=ue(null),a=ue(!0),d=ue(null),s=ue(null);ut(async()=>{await v()});async function v(){try{I(a,!0);const i=await fetch("/api/organizations"),n=await i.json();if(!i.ok||!n.success)throw new Error(n.message||"Failed to fetch organizations");I(o,n.data,!0)}catch(i){I(l,i instanceof Error?i.message:"An unknown error occurred",!0)}finally{I(a,!1)}}async function w(i){if(!t(d)){I(d,i.id,!0);try{const n=await fetch(`/api/organizations/${i.id}`,{method:"DELETE"}),j=await n.json();if(!n.ok||!j.success)throw new Error(j.error||"Failed to delete organization");await v(),await Ke()}catch(n){I(l,n instanceof Error?n.message:"Failed to delete organization",!0),console.error("Delete organization error:",n)}finally{I(d,null),I(s,null)}}}function C(i){I(s,i,!0)}function R(){I(s,null)}var T=hr(),S=u(T);A(S,()=>Ye,(i,n)=>{n(i,{children:(j,W)=>{var se=fr(),te=u(se);A(te,()=>Re,(Q,q)=>{q(Q,{children:(ae,b)=>{var y=sr(),B=u(y);A(B,()=>He,(F,$)=>{$(F,{children:(k,Z)=>{K();var V=de("Your Organizations");r(k,V)},$$slots:{default:!0}})});var D=p(B,2);A(D,()=>We,(F,$)=>{$(F,{children:(k,Z)=>{K();var V=de("A list of all the organizations you are a member of.");r(k,V)},$$slots:{default:!0}})}),r(ae,y)},$$slots:{default:!0}})});var re=p(te,2);A(re,()=>Ve,(Q,q)=>{q(Q,{children:(ae,b)=>{var y=M(),B=u(y);{var D=$=>{var k=lr();r($,k)},F=$=>{var k=M(),Z=u(k);{var V=G=>{var O=ir(),E=p(g(O),2),L=g(E,!0);c(E),c(O),pe(()=>ve(L,t(l))),r(G,O)},U=G=>{var O=M(),E=u(O);{var L=_=>{var x=dr();r(_,x)},P=_=>{var x=vr();vt(x,21,()=>t(o),ft,(le,X)=>{var xe=ur(),be=g(xe),ie=g(be),me=g(ie),Qe=g(me,!0);c(me);var Fe=p(me,2),Ue=g(Fe,!0);c(Fe),c(ie);var Ee=p(ie,2),Xe=g(Ee);{var et=oe=>{{let ye=N(()=>t(d)===t(X).id);he(oe,{variant:"ghost",size:"icon",onclick:()=>C(t(X)),get disabled(){return t(ye)},class:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8",children:(Oe,st)=>{Be(Oe,{class:"h-4 w-4"})},$$slots:{default:!0}})}};H(Xe,oe=>{t(X).role==="owner"&&oe(et)})}c(Ee),c(be);var Me=p(be,2),Ce=g(Me),Ae=g(Ce),tt=g(Ae,!0);c(Ae);var rt=p(Ae,2);{var at=oe=>{var ye=cr();r(oe,ye)};H(rt,oe=>{t(X).isActive&&oe(at)})}c(Ce);var ke=p(Ce,2),ot=g(ke);{var nt=oe=>{{let ye=N(()=>t(d)===t(X).id);he(oe,{variant:"ghost",size:"icon",onclick:()=>C(t(X)),get disabled(){return t(ye)},class:"text-destructive hover:text-destructive hover:bg-destructive/10",children:(Oe,st)=>{Be(Oe,{class:"h-4 w-4"})},$$slots:{default:!0}})}};H(ot,oe=>{t(X).role==="owner"&&oe(nt)})}c(ke),c(Me),c(xe),pe(()=>{ve(Qe,t(X).name),ve(Ue,t(X).slug),ve(tt,t(X).role)}),r(le,xe)}),c(x),r(_,x)};H(E,_=>{t(o).length===0?_(L):_(P,!1)},!0)}r(G,O)};H(Z,G=>{t(l)?G(V):G(U,!1)},!0)}r($,k)};H(B,$=>{t(a)?$(D):$(F,!1)})}r(ae,y)},$$slots:{default:!0}})}),r(j,se)},$$slots:{default:!0}})});var f=p(S,2);{let i=N(()=>t(s)!==null);A(f,()=>nr,(n,j)=>{j(n,{get open(){return t(i)},onOpenChange:W=>!W&&R(),children:(W,se)=>{var te=M(),re=u(te);A(re,()=>ar,(Q,q)=>{q(Q,{children:(ae,b)=>{var y=pr(),B=u(y);A(B,()=>er,(F,$)=>{$(F,{children:(k,Z)=>{var V=mr(),U=u(V);A(U,()=>Wt,(O,E)=>{E(O,{children:(L,P)=>{K();var _=de("Delete Organization");r(L,_)},$$slots:{default:!0}})});var G=p(U,2);A(G,()=>or,(O,E)=>{E(O,{children:(L,P)=>{K();var _=gr(),x=p(u(_)),le=g(x,!0);c(x),K(),pe(()=>ve(le,t(s)?.name)),r(L,_)},$$slots:{default:!0}})}),r(k,V)},$$slots:{default:!0}})});var D=p(B,2);A(D,()=>Ut,(F,$)=>{$(F,{children:(k,Z)=>{var V=_r(),U=u(V);A(U,()=>Gt,(O,E)=>{E(O,{onclick:R,children:(L,P)=>{K();var _=de("Cancel");r(L,_)},$$slots:{default:!0}})});var G=p(U,2);A(G,()=>Zt,(O,E)=>{E(O,{onclick:()=>t(s)&&w(t(s)),class:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:(L,P)=>{K();var _=de("Delete Organization");r(L,_)},$$slots:{default:!0}})}),r(k,V)},$$slots:{default:!0}})}),r(ae,y)},$$slots:{default:!0}})}),r(W,te)},$$slots:{default:!0}})})}r(m,T),J()}var xr=h('<meta name="description" content="Manage your organizations, members, and team settings in Aphex CMS."/>'),br=h("<!> Back to Admin",1),yr=h("<!> Create Organization",1),wr=h('<div class="text-muted-foreground rounded-lg border p-8 text-center"><p class="text-lg font-medium">Access Denied</p> <p class="mt-2">Only super admins can create organizations.</p></div>'),Pr=h('<div class="container mx-auto max-w-6xl p-4 sm:p-6"><div class="mb-6"><!> <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"><div class="flex items-center gap-3"><div class="bg-primary/10 flex h-10 w-10 shrink-0 items-center justify-center rounded-lg sm:h-12 sm:w-12"><!></div> <div><h1 class="text-2xl font-bold sm:text-3xl"> </h1> <p class="text-muted-foreground text-sm sm:text-base"> </p></div></div> <!></div></div> <!></div>');function Lr(m,e){Y(e,!0);const o=N(()=>Ie.url.searchParams.get("action")==="create"),l=N(()=>Ie.data?.sidebarData?.user?.role),a=N(()=>t(l)==="super_admin");function d(){ze("/admin")}function s(){ze("/admin/organizations?action=create",{invalidateAll:!0})}var v=Pr();dt(b=>{var y=xr();ct.title="Aphex CMS - Organizations",r(b,y)});var w=g(v),C=g(w);he(C,{variant:"ghost",onclick:d,class:"mb-4",children:(b,y)=>{var B=br(),D=u(B);Bt(D,{class:"mr-2 h-4 w-4"}),K(),r(b,B)},$$slots:{default:!0}});var R=p(C,2),T=g(R),S=g(T),f=g(S);Lt(f,{class:"text-primary h-5 w-5 sm:h-6 sm:w-6"}),c(S);var i=p(S,2),n=g(i),j=g(n,!0);c(n);var W=p(n,2),se=g(W,!0);c(W),c(i),c(T);var te=p(T,2);{var re=b=>{he(b,{onclick:s,class:"w-full sm:w-auto",children:(y,B)=>{var D=yr(),F=u(D);St(F,{class:"mr-2 h-4 w-4"}),K(),r(y,D)},$$slots:{default:!0}})};H(te,b=>{!t(o)&&t(a)&&b(re)})}c(R),c(w);var Q=p(w,2);{var q=b=>{var y=M(),B=u(y);{var D=$=>{Jt($,{})},F=$=>{var k=wr();r($,k)};H(B,$=>{t(a)?$(D):$(F,!1)})}r(b,y)},ae=b=>{$r(b,{})};H(Q,b=>{t(o)?b(q):b(ae,!1)})}c(v),pe(()=>{ve(j,t(o)?"Create Organization":"Organizations"),ve(se,t(o)?"Set up a new organization for your team":"Manage your organizations")}),r(m,v),J()}export{Lr as component};
