{"version":3,"file":"_server.ts-BC2Ad0Tq.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/user/request-password-reset/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { l as latestPasswordResetUrl } from \"../../../../../chunks/instance2.js\";\nconst POST = async ({ request }) => {\n  try {\n    const body = await request.json();\n    if (!body.email) {\n      return json(\n        {\n          success: false,\n          error: \"Missing required field\",\n          message: \"email is required\"\n        },\n        { status: 400 }\n      );\n    }\n    const { auth } = await import(\"../../../../../chunks/index4.js\");\n    await auth.api.forgetPassword({\n      body: {\n        email: body.email,\n        redirectTo: body.redirectTo\n      }\n    });\n    const response = {\n      success: true,\n      message: \"If an account exists with that email, a password reset link has been sent\"\n    };\n    if (process.env.NODE_ENV === \"development\" && latestPasswordResetUrl) {\n      response.resetUrl = latestPasswordResetUrl;\n    }\n    return json(response);\n  } catch (error) {\n    console.error(\"Failed to request password reset:\", error);\n    return json(\n      {\n        success: false,\n        error: \"Failed to request password reset\",\n        message: error instanceof Error ? error.message : \"Unknown error\"\n      },\n      { status: 500 }\n    );\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;;;;;AAEK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACrC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;AACrB,MAAM,OAAO,IAAI;AACjB,QAAQ;AACR,UAAU,OAAO,EAAE,KAAK;AACxB,UAAU,KAAK,EAAE,wBAAwB;AACzC,UAAU,OAAO,EAAE;AACnB,SAAS;AACT,QAAQ,EAAE,MAAM,EAAE,GAAG;AACrB,OAAO;AACP,IAAI;AACJ,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,OAAO,sBAAiC,CAAC;AACpE,IAAI,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC;AAClC,MAAM,IAAI,EAAE;AACZ,QAAQ,KAAK,EAAE,IAAI,CAAC,KAAK;AACzB,QAAQ,UAAU,EAAE,IAAI,CAAC;AACzB;AACA,KAAK,CAAC;AACN,IAAI,MAAM,QAAQ,GAAG;AACrB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,OAAO,EAAE;AACf,KAAK;AACL,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,IAAI,sBAAsB,EAAE;AAC1E,MAAM,QAAQ,CAAC,QAAQ,GAAG,sBAAsB;AAChD,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC;AACzB,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,mCAAmC,EAAE,KAAK,CAAC;AAC7D,IAAI,OAAO,IAAI;AACf,MAAM;AACN,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,KAAK,EAAE,kCAAkC;AACjD,QAAQ,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG;AAC1D,OAAO;AACP,MAAM,EAAE,MAAM,EAAE,GAAG;AACnB,KAAK;AACL,EAAE;AACF;;;;"}