{"version":3,"file":"_server.ts-C140B2sL.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/user/reset-password/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { authProvider } from \"../../../../../chunks/index4.js\";\nconst POST = async ({ request }) => {\n  try {\n    const body = await request.json();\n    if (!body.token || !body.newPassword) {\n      return json(\n        {\n          success: false,\n          error: \"Missing required fields\",\n          message: \"token and newPassword are required\"\n        },\n        { status: 400 }\n      );\n    }\n    await authProvider.resetPassword(body.token, body.newPassword);\n    return json({\n      success: true,\n      message: \"Password reset successfully\"\n    });\n  } catch (error) {\n    console.error(\"Failed to reset password:\", error);\n    return json(\n      {\n        success: false,\n        error: \"Failed to reset password\",\n        message: error instanceof Error ? error.message : \"Invalid or expired token\"\n      },\n      { status: 500 }\n    );\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAEK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACrC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AAC1C,MAAM,OAAO,IAAI;AACjB,QAAQ;AACR,UAAU,OAAO,EAAE,KAAK;AACxB,UAAU,KAAK,EAAE,yBAAyB;AAC1C,UAAU,OAAO,EAAE;AACnB,SAAS;AACT,QAAQ,EAAE,MAAM,EAAE,GAAG;AACrB,OAAO;AACP,IAAI;AACJ,IAAI,MAAM,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC;AAClE,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,OAAO,EAAE;AACf,KAAK,CAAC;AACN,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE,KAAK,CAAC;AACrD,IAAI,OAAO,IAAI;AACf,MAAM;AACN,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,KAAK,EAAE,0BAA0B;AACzC,QAAQ,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG;AAC1D,OAAO;AACP,MAAM,EAAE,MAAM,EAAE,GAAG;AACnB,KAAK;AACL,EAAE;AACF;;;;"}